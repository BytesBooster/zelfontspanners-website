<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Foto van de Maand - De Zelfontspanners">
    <title>Foto van de Maand - De Zelfontspanners</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body class="dark-page">
    <!-- Navigation Component - wordt geladen via components.js -->
    <div id="navigation-placeholder"></div>

    <!-- Foto van de Maand Section -->
    <section class="foto-van-de-maand-page">
        <div class="container">
            <div class="section-header">
                <h1>Foto van de Maand</h1>
                <p class="section-subtitle">De mooiste foto's van onze leden</p>
            </div>
            
            <!-- Current Foto van de Maand -->
            <div class="foto-van-de-maand-current" id="currentFoto">
                <div class="foto-van-de-maand-image-container">
                    <img id="currentFotoImage" src="" alt="Foto van de maand" class="foto-van-de-maand-image">
                    <div class="foto-van-de-maand-overlay">
                        <div class="foto-van-de-maand-info">
                            <h2 id="currentFotoTitle" class="foto-van-de-maand-title"></h2>
                            <p class="foto-van-de-maand-photographer">
                                Door: <span id="currentFotoPhotographer"></span>
                            </p>
                            <p class="foto-van-de-maand-date">
                                <span id="currentFotoMonth"></span> <span id="currentFotoYear"></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Current Month Excursion Info -->
            <div id="excursionInfo" class="foto-van-de-maand-excursion-info" style="display: none;">
                <h2>Excursie van deze Maand</h2>
                <div id="excursionDetails" class="excursion-details">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Upload Section (only for logged-in members, current month only) -->
            <div id="uploadSection" class="foto-van-de-maand-upload-section" style="display: none;">
                <h2>Stuur je foto in voor deze maand</h2>
                <p class="upload-info">Upload maximaal 5 foto's per maand van de excursie. Alleen mogelijk in de huidige maand.</p>
                <div id="uploadCount" class="upload-count"></div>
                
                <div id="dropZone" class="foto-van-de-maand-dropzone">
                    <div class="dropzone-content">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        <p>Sleep foto's hierheen of klik om te selecteren</p>
                        <small>JPEG bestanden, max 5MB per foto, maximaal 5 foto's deze maand</small>
                    </div>
                    <input type="file" id="fotoUploadInput" name="fotoUpload" multiple accept="image/jpeg,image/jpg" style="display: none;">
                </div>
                
                <!-- Upload Preview -->
                <div id="uploadPreview" class="foto-van-de-maand-upload-preview" style="display: none;">
                    <h3>Te uploaden foto's:</h3>
                    <div id="previewGrid" class="foto-van-de-maand-preview-grid"></div>
                    <div class="form-group">
                        <label for="uploadFotoTitle">Titel voor alle foto's (optioneel)</label>
                        <input type="text" id="uploadFotoTitle" name="uploadFotoTitle" placeholder="Geef een titel aan je foto's">
                    </div>
                    <div class="upload-actions">
                        <button type="button" id="cancelUploadBtn" class="btn btn-secondary">Annuleren</button>
                        <button type="button" id="uploadFotosBtn" class="btn btn-primary">Foto's Inzenden</button>
                    </div>
                </div>
            </div>

            <!-- Ingezonden Foto's van Huidige Maand -->
            <div id="submittedFotosSection" class="foto-van-de-maand-submitted">
                <h2>Ingezonden Foto's van deze Maand</h2>
                <div id="submittedFotosGrid" class="foto-van-de-maand-submitted-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Archive Section -->
            <div class="foto-van-de-maand-archive">
                <h2 class="archive-title">Archief - Winnaars</h2>
                <div class="foto-van-de-maand-grid" id="fotoArchive">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Image Modal/Popup -->
    <div id="fotoModal" class="image-modal">
        <span class="modal-close" id="fotoModalClose">&times;</span>
        <div class="modal-content">
            <img id="fotoModalImage" src="" alt="">
            <div class="modal-caption">
                <h3 id="fotoModalTitle"></h3>
                <p id="fotoModalPhotographer"></p>
                <p id="fotoModalDate"></p>
            </div>
        </div>
    </div>

    <!-- Footer Component - wordt geladen via components.js -->
    <div id="footer-placeholder"></div>

    <!-- Load components first, then main script -->
    <script src="components.js"></script>
    <script>
        // Load components when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            loadComponent('navigation', '#navigation-placeholder', 'foto-van-de-maand');
            loadComponent('footer', '#footer-placeholder');
        });
    </script>
    <script src="portfolio-data.js"></script>
    <script src="auth.js"></script>
    <script src="agenda.js"></script>
    <script src="foto-van-de-maand.js"></script>
</body>
</html>
